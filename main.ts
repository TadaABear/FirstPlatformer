enum RadioMessage {
    message1 = 49434,
    Twentydammage = 62641
}
namespace SpriteKind {
    export const regenpotion = SpriteKind.create()
    export const Boss = SpriteKind.create()
}
namespace StatusBarKind {
    export const wepobn = StatusBarKind.create()
    export const BossHeath = StatusBarKind.create()
}
controller.up.onEvent(ControllerButtonEvent.Pressed, function () {
    if (mySprite.vy == 0) {
        mySprite.vy = -110
        music.play(music.createSoundEffect(WaveShape.Square, 400, 600, 255, 0, 100, SoundExpressionEffect.None, InterpolationCurve.Linear), music.PlaybackMode.InBackground)
    }
})
statusbars.onStatusReached(StatusBarKind.BossHeath, statusbars.StatusComparison.LT, statusbars.ComparisonType.Percentage, 0, function (status) {
    sprites.destroy(mySprite4)
    game.gameOver(true)
})
controller.B.onEvent(ControllerButtonEvent.Pressed, function () {
    if (prjectal_nummber > 0) {
        projectile = sprites.createProjectileFromSprite(assets.image`ninja star`, mySprite, 65, 65)
        prjectal_nummber += -1
    }
})
scene.onOverlapTile(SpriteKind.Player, assets.tile`myTile`, function (sprite, location) {
    if (controller.A.isPressed()) {
        tiles.setCurrentTilemap(tilemap`level7`)
        prjectal_nummber += 20
        mySprite2.setPosition(148, 104)
    }
})
sprites.onOverlap(SpriteKind.Boss, SpriteKind.Player, function (sprite, otherSprite) {
    animation.runImageAnimation(
    mySprite4,
    assets.animation`a mob`,
    200,
    false
    )
    statusbar.value += -0.4
})
controller.A.onEvent(ControllerButtonEvent.Pressed, function () {
    animation.runImageAnimation(
    mySprite,
    [img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . e e e e e . . . . . . . 
        . . . . e e d d e . . . . . . . 
        . . . . 1 1 d 1 1 . . . . . . . 
        . . . . 1 f d f 1 . . . 1 2 . . 
        . . . . d d d d d . . 1 2 1 . . 
        . . . . . . 2 . . 1 1 2 1 . . . 
        . . . . . 2 2 2 . . 2 1 . . . . 
        . . . . d . 2 . d 1 . 1 . . . . 
        . . . . . . 6 . . . . . . . . . 
        . . . . . 6 . 6 . . . . . . . . 
        . . . . 6 . . . 6 . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `,img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . e e e e e . . . . . . . 
        . . . . e e d d e . . . . . . . 
        . . . . 1 1 d 1 1 . . . . . . . 
        . . . . 1 f d f 1 . . . . . . . 
        . . . . d d d d d . . . . . . . 
        . . . . . . 2 . . . . . . . . . 
        . . . . . 2 2 2 . . . . . . . . 
        . . . . d . 2 . d 1 . 1 . . . . 
        . . . . . . 6 . . . 2 1 . . . . 
        . . . . . 6 . 6 . 1 1 2 1 . . . 
        . . . . 6 . . . 6 . . 1 2 1 . . 
        . . . . . . . . . . . . 1 2 . . 
        `,img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . e e e e e . . . . . . . 
        . . . . e e d d e . . . . . . . 
        . . . . 1 1 d 1 1 . . . . . . . 
        . . . . 1 f d f 1 . . . . . . . 
        . . . . d d d d d . . . . . . . 
        . . . . . . 2 . . . . . . . . . 
        . . . . . 2 2 2 . . . . . . . . 
        . . . . d . 2 . d . . . . . . . 
        . . . . . . 6 . . . . . . . . . 
        . . . . . 6 . 6 . . . . . . . . 
        . . . . 6 . . . 6 . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `],
    100,
    false
    )
})
sprites.onOverlap(SpriteKind.Projectile, SpriteKind.Boss, function (sprite, otherSprite) {
    statusbar3.value += -5
})
scene.onOverlapTile(SpriteKind.Enemy, sprites.dungeon.hazardLava1, function (sprite, location) {
    statusbar2.value += -1
})
statusbars.onStatusReached(StatusBarKind.BossHeath, statusbars.StatusComparison.EQ, statusbars.ComparisonType.Percentage, 50, function (status) {
    animation.runImageAnimation(
    mySprite4,
    assets.animation`Boss super charge`,
    200,
    false
    )
    statusbar.value += -100
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.regenpotion, function (sprite, otherSprite) {
    music.play(music.melodyPlayable(music.powerUp), music.PlaybackMode.InBackground)
    sprites.destroy(mySprite2)
    for (let index = 0; index < 200; index++) {
        statusbar.value += 1
        pause(100)
        statusbar.value += 1
    }
})
statusbars.onZero(StatusBarKind.EnemyHealth, function (status) {
    sprites.destroy(myEnemy)
})
scene.onOverlapTile(SpriteKind.Player, sprites.dungeon.collectibleBlueCrystal, function (sprite, location) {
    mySprite4 = sprites.create(assets.image`Mob`, SpriteKind.Boss)
    statusbar3 = statusbars.create(40, 4, StatusBarKind.Health)
    statusbar3.attachToSprite(mySprite4)
    mySprite4.setPosition(73, 101)
    statusbar3.max = 7000
    statusbar3.value += 7000
    tiles.setCurrentTilemap(tilemap`level6`)
    mySprite.setPosition(128, 87)
    mySprite4.follow(mySprite, 70)
    mySprite4.setFlag(SpriteFlag.GhostThroughWalls, true)
    scaling.scaleToPercent(mySprite4, 200, ScaleDirection.Uniformly, ScaleAnchor.Middle)
    statusbar3.setStatusBarFlag(StatusBarFlag.SmoothTransition, true)
})
scene.onOverlapTile(SpriteKind.Player, sprites.dungeon.hazardLava1, function (sprite, location) {
    statusbar.value += -1
    mySprite.vy = 50
})
sprites.onOverlap(SpriteKind.Enemy, SpriteKind.Player, function (sprite, otherSprite) {
    animation.runImageAnimation(
    myEnemy,
    assets.animation`a mob`,
    200,
    false
    )
    statusbar.value += -0.3
})
radio.onReceivedMessage(RadioMessage.Twentydammage, function () {
    if (mySprite.vy == 0) {
        statusbar.value += -20
    }
})
statusbars.onStatusReached(StatusBarKind.Health, statusbars.StatusComparison.LT, statusbars.ComparisonType.Percentage, 0, function (status) {
    game.gameOver(false)
})
scene.onOverlapTile(SpriteKind.Player, sprites.dungeon.collectibleRedCrystal, function (sprite, location) {
    mySprite.setPosition(17, 16)
    myEnemy.setPosition(70, 56)
    tiles.setCurrentTilemap(tilemap`level4`)
})
sprites.onOverlap(SpriteKind.Projectile, SpriteKind.Enemy, function (sprite, otherSprite) {
    statusbar2.value += -5
})
scene.onOverlapTile(SpriteKind.Player, sprites.dungeon.collectibleInsignia, function (sprite, location) {
    mySprite.setPosition(11, 103)
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.Enemy, function (sprite, otherSprite) {
    if (controller.A.isPressed()) {
        statusbar2.value += -4
    }
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.Boss, function (sprite, otherSprite) {
    if (controller.A.isPressed()) {
        statusbar3.value += -4
    }
})
let statusbar3: StatusBarSprite = null
let projectile: Sprite = null
let mySprite4: Sprite = null
let statusbar2: StatusBarSprite = null
let statusbar: StatusBarSprite = null
let myEnemy: Sprite = null
let mySprite: Sprite = null
let prjectal_nummber = 0
let mySprite2: Sprite = null
mySprite2 = sprites.create(img`
    . . . . . . . . . . . . . . . . 
    . . . . . . e e e . . . . . . . 
    . . . . . . e e e . . . . . . . 
    . . . . . . 1 f 1 . . . . . . . 
    . . . . . . 1 f 1 . . . . . . . 
    . . . . . . 1 f 1 . . . . . . . 
    . . . . . 1 2 2 f 1 . . . . . . 
    . . . . 1 2 2 2 2 2 1 . . . . . 
    . . . . 1 2 2 1 2 2 1 . . . . . 
    . . . . 1 2 2 2 1 2 1 . . . . . 
    . . . . . 1 1 1 1 1 . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    `, SpriteKind.regenpotion)
prjectal_nummber = 10
mySprite = sprites.create(assets.image`Player`, SpriteKind.Player)
scene.setBackgroundImage(img`
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    `)
mySprite.setPosition(28, 47)
scene.cameraFollowSprite(mySprite)
myEnemy = sprites.create(assets.image`Mob`, SpriteKind.Enemy)
myEnemy.follow(mySprite, 50)
statusbar = statusbars.create(20, 4, StatusBarKind.Health)
statusbar.attachToSprite(mySprite)
statusbar.value = 1000
statusbar.setStatusBarFlag(StatusBarFlag.SmoothTransition, true)
tiles.setCurrentTilemap(tilemap`level1`)
statusbar2 = statusbars.create(20, 4, StatusBarKind.EnemyHealth)
statusbar2.attachToSprite(myEnemy)
controller.moveSprite(mySprite, 100, 0)
mySprite.ay = 300
myEnemy.setFlag(SpriteFlag.GhostThroughWalls, true)
game.onUpdate(function () {
    if (mySprite.tileKindAt(TileDirection.Center, assets.tile`myTile0`)) {
        if (controller.up.isPressed()) {
            mySprite.vy = -50
        } else {
            if (controller.down.isPressed()) {
                mySprite.vy = 50
            }
        }
    }
})
game.onUpdate(function () {
    if (mySprite.tileKindAt(TileDirection.Center, sprites.dungeon.hazardWater)) {
        mySprite.vy = 25
        if (controller.up.isPressed()) {
            mySprite.vy = -50
        } else {
            if (controller.down.isPressed()) {
                mySprite.vy = 50
            }
        }
    }
    if (mySprite.tileKindAt(TileDirection.Center, assets.tile`myTile1`)) {
        mySprite.vy = 25
        if (controller.up.isPressed()) {
            mySprite.vy = -50
        } else {
            if (controller.down.isPressed()) {
                mySprite.vy = 50
            }
        }
    }
})
game.onUpdate(function () {
    if (mySprite.vy > 200) {
        radio.sendMessage(RadioMessage.Twentydammage)
    } else {
        if (mySprite.vy < 100) {
            if (mySprite.vy > 50) {
                radio.sendMessage(RadioMessage.message1)
            }
        }
    }
})
game.onUpdateInterval(1000, function () {
    statusbar.value += 1
})
